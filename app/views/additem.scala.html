@(title: String,catId: Long)

@main(title){
        <div class ="container">
            <h3>Add Item</h3>

            <form name="frmReg" id="frmReg" method="POST" class="form horizontal">
                    <!--<form name ="form2" method ="post" class="form horizontal">-->
                @*<div class ="row">*@
                    @*<div class = "col-sm-6">*@
                        @*<div class = "form-group">*@
                            @*<label for ="catg_id">Category ID:</label>*@
                            @*<!--<input type ="select" name="catg_id" id ="categoryID" class ="form-control">-->*@
                            @*<select id="categoryID" class="form-control" name="catg_id" title="Please select category">*@
                                @*@for(category <- Category.getAllCategories()) {*@
                @*<option value="@category.Id">@category.name</option>*@
                @*}*@
                @*</select>*@
                @*</div>*@
                @*</div>*@
                @*</div>*@

                <div class ="row">
                    <div class = "col-sm-6">
                        <div class = "form-group">
                            <label for ="name">Item Name:</label>
                            <input type ="text" name="name" id ="name" class ="form-control" placeholder="Enter Item Name">
                            <input type ="hidden" id="categoryID" class="form-control" name="catg_id" value="@catId">
                        </div>
                    </div>
                </div>

                <div class ="row">
                    <div class = "col-sm-6">
                        <div class = "form-group">
                            <label for ="textare">Description:</label>
                                <!--<input type ="text" name="description" id ="name" class ="form-control" placeholder="Enter Item Desc">-->
                            <textarea name="description" id="desc" cols ="72%" rows ="" class ="form-control"></textarea>
                        </div>
                    </div>
                </div>
                <br/>
                    <!--<a href="dashboard.html" class="btn btn btn-primary">Submit</a>-->
                <button id="btnReg" type="button" class="btn btn-primary">Submit</button>
            </form>

        </div>

    <script src="@routes.Assets.at("js/jquery-2.2.3.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("js/bootstrap.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("js/sweetalert.min.js")" type="text/javascript"></script>

    <script>
            $(function () {
                $('#btnReg').on('click',function () {
                    var itemname=$('#categoryID').val();
                    var description=$('#desc').val();
                    //validation if blank

                    if (itemname===''){
                        alert("Enter Item Name");
                        return false;
                    }

                    if (description===''){
                        alert("Please Enter Item Description");
                        return false;
                    }

                    $.ajax({
                        type: "POST",
                        url: '/item',
                        dataType: 'json',
                        data: $('form[name=frmReg]').serialize(),
                        success: function (response) {
                            console.log(response);
                            alert(response.code+" "+response.message);

                            if (response.code==='200'){
                                window.location='@routes.Application.viewitems(catId)';
                               // window.location='/viewitems?id='+response.catId;
                            }
                        },
                        error: function (error) {
                            console.log(error) ;
                        }
                    });

                });

            });
    </script>
}