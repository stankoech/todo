@(title: String, Id:Long, editcat: Category)

@main(title){
         <div class ="container">
            <h3>Edit Category</h3>

            <form name="frmReg" id="frmReg" method="POST" class="form horizontal">
                    <!--<form name ="form2" method ="post" class="form horizontal">-->

                <div class ="row">
                    <div class = "col-sm-6">
                        <div class = "form-group">
                            <label for ="name">Name:</label>
                            <input type ="text" name="name" id ="name" class ="form-control" value="@editcat.name">
                            <input type ="hidden" name="categoryId" id ="categoryId" class ="form-control" value="@editcat.Id">
                        </div>
                    </div>
                </div>

                <div class ="row">
                    <div class = "col-sm-6">
                        <div class = "form-group">
                            <label for ="textare">Description:</label>
                                <!--<input type ="text" name="description" id ="name" cols ="72%" class ="form-control">-->
                            <textarea name="description" id="desc" cols ="72%" rows ="" class ="form-control">@editcat.description</textarea>
                        </div>
                    </div>
                </div>
                <br/>
                    <!--<a href="dashboard.html" class="btn btn btn-primary">Submit</a>-->
                <button id="btnReg" type="button" class="btn btn-primary">Submit</button>
            </form>

        </div>


    <script src="@routes.Assets.at("js/jquery-2.2.3.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("js/bootstrap.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("js/sweetalert.min.js")" type="text/javascript"></script>

    <script>
            $(function () {
                $('#btnReg').on('click',function () {
                    var catName=$('#categoryID').val();
                    var description=$('#desc').val();
                    //validation if blank

                    if (catName===''){
                        swal("Enter Category Name");
                        return false;
                    }

                    if (description===''){
                        swal("Please Enter Category Description");
                        return false;
                    }

                    $.ajax({
                        type: "POST",
                        url: '/editcategory',
                        dataType: 'json',
                        data: $('form[name=frmReg]').serialize(),
                        success: function (response) {
                            console.log(response);
                            alert(response.code+" "+response.message);

                            if (response.code==='200'){
                                window.location='@routes.Application.tododetails()';
                                // window.location='/viewitems?id='+response.catId;
                            }
                        },
                        error: function (error) {
                            console.log(error) ;
                        }
                    });

                });

            });
    </script>
}